---
import { Image } from "astro:assets";
import ImagenLogo from "../assets/images/Logo.png";

import { fetchFromAPI } from "../lib/conection.ts"; // Se importa la funci√≥n fetchFromAPI

interface Menu { // Menu de Enlace Rapidos
    label: string;
    url: string;
}

interface Menu2 { // llamamos Menu2 porque es el mismo que Menu pero con texto
    texto: string;
}

const data = await fetchFromAPI('textofooter') // aca llamamos los Datos del single type: textofooter

const menu: Menu[] = await fetchFromAPI('navmenus'); // aca llamamos los datos del Collection Type: navmenus
const menu2: Menu2[] = await fetchFromAPI('footers'); // aca llamamos los datos del Collection Type: footers
---
<!-- Footer -->
<footer class="bg-gray-700 text-white pt-12 pb-6">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
            <!-- Logo y texto -->
            <div>
                <a href="/">
                    <Image src={ImagenLogo} alt="Logo" class="w-[140px] h-[90px] rounded-full bg-white object-contain mb-6" />
                </a>
                <p class="text-gray-300 mb-6">{data.texto1}</p>
            </div>

            <!-- Enlaces Rapidos -->
            <div>
                <h3 class="text-xl font-bold mb-6">Enlaces Rapidos</h3>
                {menu.map((item)=>(
                    <ul class="space-y-3 mb-2">
                        <li><a href={item.url} class="text-gray-300 hover:text-blue-400 transition duration-300">{item.label}</a></li>
                    </ul>
                ))}
            </div>
            
            <!-- Contacto -->
            <div>
                <h3 class="text-xl font-bold mb-6">Contacto</h3>
                {menu2.map((item)=>(
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <span class="text-gray-300">{item.texto}</span>
                        </li>
                    </ul>
                ))}
            </div>
        </div>

        <!-- Derechos del Autor -->
        <div class="pt-6 border-t border-white text-center">
            <p>&copy; {data.texto2}</p>
        </div>
    </div>
</footer>