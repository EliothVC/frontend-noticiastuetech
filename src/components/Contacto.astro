---
import { fetchFromAPI } from "../lib/conection.ts"; // aca se importa la funci√≥n fetchFromAPI

interface Formulario { // formulario de contacto
    titulo: string;
    label: string;
    placeholder: string;
    requerido: boolean;
}

const data = await fetchFromAPI('contacto'); // aca se llaman los Datos del Single Type: Contacto
const formulario: Formulario[] = await fetchFromAPI('formularios'); // Formulario de Contacto
---
<!-- Hero -->
<section class="py-12 bg-linear-to-r from-blue-800 to-blue-400 text-white">
    <div class="container mx-auto px-4 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">{data.titulo}</h1>
        <p class="text-lg sm:text-xl md:text-2xl max-w-3xl mx-auto mb-8">{data.descripcion}</p>
    </div>
</section>

<!-- Formulario de Contacto -->
<section class="py-12 sm:16 bg-white">
    <div class="container mx-auto px-4">
        <div class="flex justify-center">
            <div class="bg-gray-50 rounded-lg shadow-sm p-6 sm:p-8 w-full max-w-xl">
                <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-6">{data.titulo2}</h2>
                <!-- formulario -->
                <form action="https://formspree.io/f/mgvgzwez" method="POST" class="space-y-6">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        {formulario.slice(1, 4).map((item)=>(
                            <div>
                                <label for={item.titulo} class="block text-sm font-medium text-gray-700 mb-2">
                                    {item.label}
                                </label>
                                <input id={item.titulo} type="text" name={item.titulo} class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder={item.placeholder} required={item.requerido} />
                            </div>
                        ))}
                    </div>

                    <!-- Aca se escribe el mensaje -->
                    <div>
                        <label for="mensaje" class="block text-sm font-medium text-gray-700 mb-2">
                            {formulario[0].label}
                        </label>
                        <textarea id="mensaje" name="message" rows="5" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500" placeholder={formulario[0].placeholder} required={formulario[0].requerido}></textarea>
                    </div>
                    
                    <!-- Boton de envio -->
                    <button type="submit" class="w-full bg-red-500 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300">
                        Enviar Mensaje
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>